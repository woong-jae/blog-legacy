---
title: "[JS] ëª¨ë“ˆ(Modules)" 
date: "2021-12-30"
emoji: "ğŸ—ƒ"
category: "javascript"
---
## ì™œ ëª¨ë“ˆ?
ë³´í†µ í”„ë¡œê·¸ë¨ì€ ìƒˆë¡œìš´ í•„ìš”ì„±ì´ ìƒê¸°ë©´ ìƒˆ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©° ì¡°ì§ì ìœ¼ë¡œ ì„±ì¥í•˜ê²Œ ëœë‹¤. 
í•˜ì§€ë§Œ í”„ë¡œê·¸ë¨ êµ¬ì¡°ë¥¼ ì²´ê³„í™”í•˜ëŠ” ê²ƒì€ ì¶”ê°€ì ì¸ ë…¸ë ¥ì´ í•„ìš”í•˜ë‹¤. ì´ ë…¸ë ¥ì€ ë¯¸ë˜ì— ë‹¤ë¥¸ ì‚¬ëŒì´ ì´ í”„ë¡œê·¸ë¨ì— ì¼ì„ í•  ë•Œì„œì•¼ ë³´í†µ ë¹›ì„ ë°œí•˜ê²Œ ëœë‹¤.
ê·¸ë ‡ê¸° ë•Œë¬¸ì— í˜„ì¬ ì‘ì—…í•˜ëŠ” ì‚¬ëŒìœ¼ë¡œì„œëŠ” ì´ë¥¼ ë¬´ì‹œí•˜ê³  í”„ë¡œê·¸ë¨ì˜ ë¶€ë¶„ ë¶€ë¶„ë“¤ì´ ì„œë¡œ ì–½íˆê²Œ ë‘ê¸° ì‰½ë‹¤.

ì´ë ‡ê²Œ ë˜ë©´ ë‘ ê°€ì§€ ì‹¤ì§ˆì  ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

- **ì‹œìŠ¤í…œì„ ì´í•´í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›Œì§„ë‹¤**. ë¶€ë¶„ ë¶€ë¶„ì„ ë…ë¦½ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì•„ë‹Œ, ì „ì²´ ì‹œìŠ¤í…œì— ëŒ€í•œ ì´í•´ë¥¼ í•˜ë„ë¡ ê°•ìš”ëœë‹¤.

- í”„ë¡œê·¸ë¨ì˜ ì–´ëŠ ê¸°ëŠ¥ì„ ë‹¤ë¥¸ ìƒí™©ì— ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ, **ê·¸ ë¶€ë¶„ì„ ë‹¤ì‹œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì–½íŒ ê²ƒì„ í‘¸ëŠ” ê²ƒë³´ë‹¤ ì‰¬ì›Œ**ì§ˆ ìˆ˜ë„ ìˆë‹¤.

ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **'Modules'**ë¥¼ ë„ì…í•˜ê²Œ ë˜ì—ˆë‹¤.


## ëª¨ë“ˆ(Modules)
> ëª¨ë“ˆì€ **'ì–´ë–¤ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ ì¡°ê°ì— ì˜ì¡´'**í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  **'ì–´ë–¤ ê¸°ëŠ¥ì„ ì œê³µ(ì¸í„°í˜ì´ìŠ¤)'**í•˜ëŠ”ì§€ ëª…ì‹œí•˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ì¡°ê°ì´ë‹¤.
> ì‰½ê²Œ ë§í•´ íŠ¹ì • ê¸°ëŠ¥ì„ ê°–ëŠ” ì‘ì€ ì½”ë“œ ë‹¨ìœ„ë¥¼ ì˜ë¯¸í•œë‹¤.

ëª¨ë“ˆì˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ê°ì²´ì˜ ì¸í„°í˜ì´ìŠ¤ì™€ ë¹„ìŠ·í•˜ë‹¤. 
ëª¨ë“ˆì˜ ë¶€ë¶„ë§Œ ì™¸ë¶€ì— ê³µê°œí•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ìˆ¨ê²¨ë‘ ìœ¼ë¡œì¨ ëª¨ë“ˆë“¤ì´ ì„œë¡œ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²ƒì„ ì œí•œí•´ ì„œë¡œ ì–½íˆëŠ” ê²ƒì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

ëª¨ë“ˆ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ **'dependecies'**ë¼ê³  í•œë‹¤. ëª¨ë“ˆì´ ë™ì‘í•˜ëŠ”ë° ë‹¤ë¥¸ ëª¨ë“ˆì˜ ì¡°ê°ì´ í•„ìš”í•  ë•Œ, ê·¸ ëª¨ë“ˆì— 'ì˜ì¡´'í•œë‹¤ê³  í•œë‹¤.

ëª¨ë“ˆì˜ ì˜ì¡´ì„±ì´ ì •í™•íˆ ëª…ì‹œë˜ì–´ ìˆë‹¤ë©´, ëª¨ë“ˆì„ ë™ì‘í•˜ëŠ”ë° í•„ìš”í•œ ë‹¤ë¥¸ ëª¨ë“ˆë“¤ì„ ì•Œì•„ë‚´ê³  ì˜ì¡´ì„±ì„ ìë™ìœ¼ë¡œ ë¡œë“œí•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 
ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê²Œ ëª¨ë“ˆì„ ë¶„ë¦¬í•˜ë ¤ë©´, ê° ëª¨ë“ˆì€ ìì‹ ë§Œì˜ ìŠ¤ì½”í”„ê°€ í•„ìš”í•˜ë‹¤. 
ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ê·¸ëƒ¥ ë‹¤ë¥¸ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œëŠ” ì´ê²ƒì„ ì´ë£° ìˆ˜ ì—†ë‹¤. **íŒŒì¼ë“¤ì´ ê°™ì€ global namespaceë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ê°ìì˜ ë³€ìˆ˜ë¥¼ ì¹¨ë²”í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤**.

### ì¦‰í¥ì ì¸ ëª¨ë“ˆ êµ¬í˜„
2015ë…„ ì´ì „ì—ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ë‚´ì¥ëœ ëª¨ë“ˆ ì‹œìŠ¤í…œì´ ì—†ì—ˆë‹¤. í•˜ì§€ë§Œ ì‚¬ëŒë“¤ì€ ëª¨ë“ˆì´ í•„ìš”í–ˆê¸°ì— ì–¸ì–´ ìœ„ì— ëª¨ë“ˆ ì‹œìŠ¤í…œì„ ë””ìì¸í–ˆë‹¤.
**í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë“ˆë“¤ì´ ê°ì ë¡œì»¬ ìŠ¤ì½”í”„ë¥¼ ê°–ê²Œ** í•˜ê³ , **ê°ì²´ë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë“ˆì˜ ì¸í„°í˜ì´ìŠ¤**ë¥¼ ë‚˜íƒ€ëƒˆë‹¤.

í•¨ìˆ˜ë¥¼ ê·¸ëƒ¥ ì •ì˜í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€, ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë˜ ê²ƒì²˜ëŸ¼, ì¸í„°í˜ì´ìŠ¤ë¥¼ global spaceì— ì˜¬ë ¤ë†“ê³  ì˜ì¡´ì„±ë„ ê±°ê¸° ìˆê¸¸ ë°”ë¼ëŠ” ë°©ì‹ì´ë‹¤.
ë”°ë¼ì„œ ì˜ì¡´ì„± ê´€ê³„ê°€ ì½”ë“œì˜ ë¶€ë¶„ì´ ë˜ê²Œ í•˜ë ¤ë©´, **ì˜ì¡´ì„±ì„ ë¡œë“œí•˜ëŠ” ê²ƒì„ ì œì–´**í•´ì•¼ í•œë‹¤. 
ì´ê²ƒì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” **ë¬¸ìì—´ì„ ì½”ë“œë¡œ ì‹¤í–‰**í•˜ëŠ” ê²ƒì´ í•„ìš”í•œë°, ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì´ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.

`Function` constructorë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ë‘ ê°€ì§€ ì¸ì: 1) ì½¤ë§ˆë¡œ ë‚˜ëˆ ì§„ ë³€ìˆ˜ë“¤ ë¬¸ìì—´ 2) í•¨ìˆ˜ body ë¬¸ìì—´ì„ ê°€ì§„ë‹¤.
Function ê°’ìœ¼ë¡œ ì½”ë“œë¥¼ ê°ì‹¸ê¸° ë•Œë¬¸ì— ìê¸°ë§Œì˜ ìŠ¤ì½”í”„ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.

```js
let plusOne = Function("n", "return n + 1;");
console.log(plusOne(4));
// -> 5
```

### CommonJS Modules
ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆì€ **CommonJS ëª¨ë“ˆ**ì´ë‹¤.

CommonJSì˜ ê°€ì¥ ì£¼ìš” ê°œë…ì€ `require`ë€ í•¨ìˆ˜ë‹¤. ì´ í•¨ìˆ˜ë¥¼ ëª¨ë“ˆ ì´ë¦„ê³¼ í˜¸ì¶œí•˜ë©´ ëª¨ë“ˆì´ ë¡œë“œë˜ê³  ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
**ë¡œë”ê°€ ëª¨ë“ˆì˜ ì½”ë“œë¥¼ í•¨ìˆ˜ë¡œ ê°ì‹¸ê¸° ë•Œë¬¸ì— ëª¨ë“ˆì€ ìë™ìœ¼ë¡œ ìì‹ ë§Œì˜ ë¡œì»¬ ìŠ¤ì½”í”„**ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤.
ë”°ë¼ì„œ ëª¨ë“ˆì„ ë§Œë“¤ ë•ŒëŠ” í•„ìš”í•œ ëª¨ë“ˆë“¤ì„ `require`ë¡œ ë¶ˆëŸ¬ì˜¤ê³ , ì¸í„°í˜ì´ìŠ¤ë¥¼ `exports`ì— ë°”ì¸ë”©ëœ ê°ì²´ì— ë„£ì–´ì£¼ë©´ ëœë‹¤.

ì•„ë˜ëŠ” ë‚ ì§œë¥¼ í¬ë©§íŒ… í•´ì£¼ëŠ” ëª¨ë“ˆì˜ ì˜ˆì‹œë‹¤.
```js
const ordinal = require("ordinal");
const { days, months } = require("date-names");

exports.formatDate = function(date, format) {
    return format.replace(/YYYY|M(MMM)?|Do?|dddd/g, tag => {
        if (tag == "YYYY") return date.getFullYear();
        if (tag == "M") return date.getMonth();
        if (tag == "MMMM") return months[date.getMonth()]; if (tag == "D") return date.getDate();
        if (tag == "Do") return ordinal(date.getDate()); if (tag == "dddd") return days[date.getDay()];
    }); 
};
```

#### require
`require` í•¨ìˆ˜ë¥¼ ê°€ì¥ ë¯¸ë‹ˆë©€í•˜ê²Œ êµ¬í˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
```js
require.cache = Object.create(null);

function require(name) {
    if (!(name in require.cache)) {
        let code = readFile(name); // íŒŒì¼ì„ ì½ê³  ë‚´ìš©ì„ ë¬¸ìì—´ë¡œ ë°˜í™˜í•´ì£¼ëŠ” ê°€ìƒì˜ í•¨ìˆ˜
        let module = { exports: {}};
        require.cache[name] = module;
        let wrapper = Function("require, exports, module", code);
        wrapper(require, module.exports, module);
    }
    return require.cache[name].exports;
}
```
ë˜‘ê°™ì€ ëª¨ë“ˆì„ ê³„ì†í•´ì„œ ë¡œë“œí•˜ëŠ” ê²ƒì„ ë§‰ê¸°ìœ„í•´ `require`ëŠ” ìºì‹œë¥¼ ë‘”ë‹¤. ëª¨ë“ˆì´ ë¡œë“œë˜ì§€ ì•Šì•˜ë‹¤ë©´, ëª¨ë“ˆì˜ ì½”ë“œë¥¼ ì½ê³  í•¨ìˆ˜ë¡œ ê°ì‹¼ í›„ í˜¸ì¶œí•œë‹¤.

### ECMAScript Modules
ES moduleì€ 2015ë…„ë¶€í„° ë„ì…ëë‹¤. ì˜ì¡´ì„±ê³¼ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ì£¼ìš” ê°œë…ì€ ë™ì¼í•˜ì§€ë§Œ, ë‹¤ë¥¸ ì ì´ ëª‡ê°€ì§€ ìˆë‹¤. 
ì¼ë‹¨ í‘œê¸°ë²•ì´ ì´ì œ **ì–¸ì–´ ìì²´ì— ë‚´ì¥**ëë‹¤. `import` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë“ˆì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

```js
import ordinal from "ordinal";
import { days, months } from "date-names";

export function formatDate(date, format) { /*...*/ }
```

ë¹„ìŠ·í•˜ê²Œ, `exports` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì›í•˜ëŠ” ê²ƒì„ ë‚´ë³´ë‚¼ ìˆ˜ ìˆë‹¤.

ES ëª¨ë“ˆì˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ì´ì œ í•˜ë‚˜ì˜ ê°’ì´ ì•„ë‹ˆë¼ **ë³€ìˆ˜ì˜ ì§‘í•©**ì´ë‹¤. 
ë°”ë¡œ ìœ„ ì˜ˆì‹œì—ì„œ `formatDate`ë¥¼ ë‚´ë³´ë‚¼ ë•Œ CommonJSì™€ ê°™ì´ ê°’ì„ ë³´ë‚´ëŠ” ê²ƒì´ ì•„ë‹Œ ë³€ìˆ˜ë¥¼ exportí•˜ëŠ” ê²ƒì´ë‹¤. 
ë”°ë¼ì„œ ë‚´ë³´ë‚´ëŠ” ëª¨ë“ˆì´ ë³€ìˆ˜ì˜ ê°’ì„ ë°”ê¾¸ê²Œ ëœë‹¤ë©´, ë°›ëŠ” ëª¨ë“ˆì€ ìƒˆ ê°’ì„ ë³¼ ìˆ˜ ìˆë‹¤.

ë³€ìˆ˜ê°€ `default`ë¡œ ì´ë¦„ì§€ì–´ì§€ë©´ ëª¨ë“ˆì˜ ë©”ì¸ export ê°’ì´ ëœë‹¤.

ë˜ í•˜ë‚˜ ì¤‘ìš”í•œ ì ì€, ES ëª¨ë“ˆì˜ importëŠ” ëª¨ë“ˆì˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ì¼ì–´ë‚œë‹¤. 
ì´ ë§ì€ `import` ì„ ì–¸ì€ í•¨ìˆ˜ëŠ” ë¸”ëŸ­ì—ì„œ ë‚˜íƒ€ë‚  ìˆ˜ ì—†ê³ , dependeciesì˜ ì´ë¦„ì´ ì„ì˜ì˜ ê°’ì´ ì•„ë‹ˆë¼ ë¬¸ìì—´ë¡œ ì¸ìš©ë˜ì–´ì•¼ í•œë‹¤.

<br/>

ì°¸ì¡°: Eloquent JavaScript