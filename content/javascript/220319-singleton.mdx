---
title: "[JS] ì‹±ê¸€í†¤ íŒ¨í„´ (Singleton Pattern)" 
date: "2022-03-19 15:29"
emoji: "ðŸ’«"
category: "javascript"
---
## ì‹±ê¸€í†¤ íŒ¨í„´?
ì‹±ê¸€í†¤ íŒ¨í„´ì€ **ì „ì²´ ì‹œìŠ¤í…œì—ì„œ í´ëž˜ìŠ¤ì— ëŒ€í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ë§Œ ì¡´ìž¬í•˜ë„ë¡ ë³´ìž¥**í•˜ëŠ” 'ê°ì²´ ìƒì„±' íŒ¨í„´ì´ë‹¤.

ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ê³ ì •ëœ ë©”ëª¨ë¦¬ ì˜ì—­ì— ì¸ìŠ¤í„´ìŠ¤ í•˜ë‚˜ë§Œì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— **ë©”ëª¨ë¦¬ ë‚­ë¹„ë¥¼ ë°©ì§€**í•  ìˆ˜ ìžˆë‹¤.
ë˜í•œ, ì‹±ê¸€í†¤ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì „ì—­ì´ê¸° ë•Œë¬¸ì— **ë‹¤ë¥¸ í´ëž˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ ë°ì´í„°ë¥¼ ê³µìœ í•˜ê¸° ì‰¬ì›Œì§„ë‹¤**.

í•˜ì§€ë§Œ, ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ë„ˆë¬´ ë§Žì€ ì¼ì„ í•˜ê±°ë‚˜ ë§Žì€ ë°ì´í„°ë¥¼ ê³µìœ í•œë‹¤ë©´, ì‹œìŠ¤í…œì˜ ê²°í•©ë„ê°€ ë†’ì•„ì§€ê¸° ë•Œë¬¸ì— ì£¼ì˜í•´ì•¼ í•œë‹¤.
ê²°í•©ë„ê°€ ë†’ì•„ì§€ë©´ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§„ë‹¤.

## êµ¬í˜„
ì‹±ê¸€í†¤ì„ êµ¬í˜„í•  ìˆ˜ ìžˆëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•˜ë‹¤.

ë‹¨ìˆœ ì „ì—­ ë³€ìˆ˜ì— ê°ì²´ ë¦¬í„°ëŸ´ë¡œ ìƒì„±í•˜ëŠ” ê²ƒë„ ì‹±ê¸€í†¤ì´ë¼ê³  í•  ìˆ˜ ìžˆë‹¤.
í•˜ì§€ë§Œ, ì „ì—­ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ë³´ë‹¤ëŠ” í´ëž˜ìŠ¤ ìžì‹ ì´ ìžê¸°ì˜ ìœ ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ìžì²´ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ë” ì¢‹ì€ ë°©ë²•ì´ë‹¤.
ì´ ë°©ë²•ì„ í†µí•´ í´ëž˜ìŠ¤ ì™¸ë¶€ì—ì„œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ëª»í•˜ê²Œ í•˜ê³ , ë‚´ë¶€ì—ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ ì™¸ë¶€ì—ì„œ ê·¸ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìžˆëŠ” ë°©ë²•ì„ ì œê³µí•  ìˆ˜ ìžˆë‹¤.

ì‹±ê¸€í†¤ì˜ êµ¬í˜„ì€ ë³´í†µ ë‹¤ìŒ ì„¸ ê°€ì§€ë¥¼ ì§€í‚¨ë‹¤.
- ì™¸ë¶€ í´ëž˜ìŠ¤ë¡œë¶€í„° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ì°¨ë‹¨í•œë‹¤.
- ì¸ìŠ¤í„´ìŠ¤ì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ì°¨ë‹¨í•œë‹¤.
- ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì ‘ì ì„ ì œê³µí•œë‹¤.

### í´ë¡œì €ë¥¼ ì´ìš©í•œ ì‹±ê¸€í†¤
í´ë¡œì €ë¥¼ ì‚¬ìš©í•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìˆ¨ê¸°ëŠ” ë°©ë²•ì´ë‹¤.
```js
let Singleton = (function() {
    let instance;
    let ë¹„ë°€ = "ë‚˜ëŠ”  ìˆ¨ê²¨ì§„ ë³€ìˆ˜";
    function init() {
        return {
            foo: function() {
                console.log(ë¹„ë°€);
            }
        }
    }
    return {
        getInstance: function() {
            if(!instance) instance = init();
            return instance;
        }
    }
})();

let a = Singleton.getInstance();
let b = Singleton.getInstance();
console.log(a === b);
// -> true
```
`instance`ëŠ” `getInstance`ì˜ ì™¸ë¶€ ë ‰ì‹œì»¬ í™˜ê²½ì— ìˆ¨ê²¨ì ¸ ìžˆê¸° ë•Œë¬¸ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.
`init`ì˜ ë¦¬í„´ ê°’ì— ì—†ëŠ” ë³€ìˆ˜ ë˜í•œ ëª¨ë‘ ìˆ¨ê¸¸ ìˆ˜ ìžˆë‹¤.

### ES10(ES2019)
ES10ë¶€í„°ëŠ” í´ëž˜ìŠ¤ì— `#`ë¥¼ ì‚¬ìš©í•´ private í´ëž˜ìŠ¤ í•„ë“œë¥¼ ì„ ì–¸í•  ìˆ˜ ìžˆê²Œ ëë‹¤. ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì‹±ê¸€í†¤ êµ¬í˜„ì´ ê°€ëŠ¥í•´ì¡Œë‹¤.
```js
class Singleton {
    static #instance;
    constructor() {
        if(Singleton.#instance) return Singleton.#instance;
        this.phrase = "Hello World!";
        Singleton.#instance = this;
    }
}

let a = new Singleton();
let b = new Singleton();
console.log(a === b);
// -> true
```

<br/>

ì°¸ì¡°:  
<https://readystory.tistory.com/116>  
<https://heecheolman.tistory.com/40>  
<https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Classes/Private_class_fields>