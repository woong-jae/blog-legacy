---
title: "ER-to-Relational Mapping"
date: "2021-10-13"
emoji: "ğŸ–‡"
category: "db"
---
## Goals
- ëª¨ë“  ì •ë³´ë¥¼ ë³´ì¡´í•œë‹¤.

- ì œì•½ ì¡°ê±´ì„ ê°€ëŠ¥í•œ ë§Œí¼ ì§€í‚¨ë‹¤.  

> ê´€ê³„ ëª¨ë¸ì—ì„œ ëª¨ë“  ì œì•½ì¡°ê±´ì´ ì§€ì¼œì§ˆ ìˆ˜ëŠ” ì—†ë‹¤. ë‚˜ë¨¸ì§€ëŠ” application levelì—ì„œ ì ìš©í•  ìˆ˜ ìˆë‹¤.

- NULL ê°’ì„ ìµœì†Œí™”í•œë‹¤: ê°€ëŠ¥í•œ êµ¬ì²´ì ìœ¼ë¡œ í•´ì„œ logical-to-physical ìŠ¤í‚¤ë§ˆ ë§¤í•‘ì„ ë•ëŠ”ë‹¤.

## Mapping Algorithm
\***Steps**\*
1. Mapping of Regular Entity types

2. Mapping of Weak Entity types

3. Mapping of Binary 1:1 Relation types

4. Mapping of Binary 1:N

5. Mapping of Binary M:N

6. Mapping of Multivalued attributes

7. Mapping of N-ary Relation types

### Step 1: Regular Entity Types
ER ìŠ¤í‚¤ë§ˆì˜ ê° strong entity type $E$ì— ëŒ€í•´ì„œ relation $R$ì„ ìƒì„±í•œë‹¤.

$E$ì˜ key attribute ì¤‘ í•˜ë‚˜ë¥¼ $R$ì˜ ê¸°ë³¸ í‚¤(ì•ìœ¼ë¡œ PK)ë¡œ ì •í•œë‹¤. ë¬¼ë¡  ì—¬ëŸ¬ keyì˜ ëª¨ìŒë„ PKë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

### Step 2: Weak Entity Types
ê° weak entity type $W$ì™€ owner entity type $E$ì— ëŒ€í•´ì„œ relation $R$ì„ ìƒì„±í•˜ê³ , $W$ì˜ ëª¨ë“  attributeë¥¼ ì¶”ê°€í•œë‹¤. 

ê·¸ ë‹¤ìŒ owner entity typesì˜ PKë¥¼ $R$ì˜ ì™¸ë˜ í‚¤(ì•ìœ¼ë¡œ FK)ë¡œ ì¶”ê°€í•´ì¤€ë‹¤. $R$ì˜ PKëŠ” ownerì˜ PKì™€ $W$ì˜ partial ketì˜ ì§ì´ë‹¤.

### Step 3: Binary 1:1 Relation Types
ê° 1:1 ê´€ê³„ $R$ì— ëŒ€í•´ì„œ, $R$ì— ì°¸ì—¬í•˜ëŠ” relation $S$ì™€ $T$ë¥¼ ì°¾ëŠ”ë‹¤. ê·¸ ë‹¤ìŒ ì•„ë˜ ì¤‘ ì„ íƒí•˜ë©´ ëœë‹¤.
- \***Foreign key approach**\*  
    Relation í•˜ë‚˜, ì—¬ê¸°ì„œëŠ” $S$ë¥¼ ê³¨ë¼ì„œ $T$ì˜ PKë¥¼ $S$ì˜ FKë¡œ ë„£ëŠ”ë‹¤. ì´ë–„ $S$ëŠ” $R$ì— ëŒ€í•´ì„œ total participationì¸ ê²ƒì„ ê³ ë¥´ëŠ” ê²ƒì´ ì¢‹ë‹¤.

- \***Merged relation**\*  
    ë‘ relationê³¼ relationshipì„ í•˜ë‚˜ë¡œ í•©ì¹œë‹¤. ë‘ relationì´ totalì¼ ë•Œ ì í•©í•˜ë‹¤.

- \***Cross-reference**\*  
    ìƒˆë¡œìš´ relation $U$ë¥¼ ë§Œë“¤ì–´ì„œ$S$ì™€ $T$ì˜ PKë¥¼ êµì°¨ ì°¸ì¡°í•œë‹¤. $U$ì˜ PKëŠ” $S$ì™€ $T$ì˜ PKì¤‘ í•˜ë‚˜ë¡œ í•˜ë©´ ëœë‹¤. $U$ì˜ ë‹¤ë¥¸ FKëŠ” unique keyê°€ ëœë‹¤.

### Step 4: Binary 1:N Relation Types
ê° 1:N ê´€ê³„ $R$ì— ëŒ€í•´ì„œ, $R$ì˜ N-sideì— ì†í•˜ëŠ” Së¥¼ ì°¾ëŠ”ë‹¤. Sì— ë‹¤ë¥¸ ìª½ì— í•´ë‹¹í•˜ëŠ” $T$ì˜ PKë¥¼ FKë¡œ ë„£ê³ , 1:N ê´€ê³„ì˜ attributeë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤.

### Step 5: Binary M:N Relation Types
ê° M:N ê´€ê³„ $R$ì— ëŒ€í•´ì„œ ìƒˆë¡œìš´ relation $U$ë¥¼ ë§Œë“ ë‹¤. 

$U$ì— ì°¸ì—¬í•˜ëŠ” entity typeë“¤ì˜ PKë¥¼ $U$ì˜ FKë¡œ ë„£ëŠ”ë‹¤. FKì˜ ëª¨ë“¬ì´ $U$ì˜ PKê°€ ëœë‹¤. ê·¸ë¦¬ê³  $U$ì— M:N ê´€ê³„ì˜ atributeë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.

### Step 6: Multivalued Attribute
ê° multivalued attribute $A$ì— ëŒ€í•´ ìƒˆ relation $U$ë¥¼ ìƒì„±í•˜ê³ , $A$ì˜ attibuteì™€ $U$ë¥¼ ì†Œìœ í•˜ëŠ” entity typeì˜ PKë¥¼ FKë¡œ ë„£ëŠ”ë‹¤. $U$ì˜ PKëŠ” $\{A, FK\}$ê°€ ëœë‹¤.

### Step 7: N-ary Relation
ìƒˆë¡œìš´ relation $U$ë¥¼ ë§Œë“¤ì–´ì„œ ê´€ê³„ì— ì°¸ì—¬í•˜ëŠ” relationë“¤ì˜ PKë¥¼ FKë¡œ ë‘ê³  N-ary ê´€ê³„ì˜ attributeë¥¼ ì¶”ê°€í•œë‹¤.

