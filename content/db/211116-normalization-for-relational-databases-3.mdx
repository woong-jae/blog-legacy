---
title: "Normalization for Relational DB - 3"
date: "2021-11-16 13:37"
emoji: "ğŸ™"
category: "db"
---
## General definitions of 2NF & 3NF
ì´ì „ ê¸€ì—ì„œëŠ” ê¸°ë³¸í‚¤ì— ëŒ€í•´ì„œ ì¼ë°˜í˜•ì„ ì •ì˜í•´ë´¤ë‹¤. ì´ë²ˆì—ëŠ” ì¼ë°˜í™” í•´ë³´ì.

### 2NFì˜ ì¼ë°˜ì  ì •ì˜
Relation $R$ì˜ **ëª¨ë“  nonprime attribute $A$ê°€ $R$ì˜ ì–´ëŠ í‚¤(ê¸°ë³¸í‚¤, í›„ë³´í‚¤)ì— ëŒ€í•´ 'partially functional dependent'í•˜ì§€ ì•Šë‹¤ë©´**, $R$ì€ 2NFë¥¼ ë§Œì¡±í•œë‹¤.

### 3NFì˜ ì¼ë°˜ì  ì •ì˜
Nontrivial FD $X\rarr A$ì—ì„œ
1. $X$ê°€ **ìŠˆí¼ í‚¤** í˜¹ì€,
2. $A$ê°€ **prime attribute**

ì´ë©´ relationì€ 3NFë¥¼ ë§Œì¡±í•œë‹¤.

![image](https://user-images.githubusercontent.com/33976823/141923908-708c13fc-d8a2-4763-bf40-ab5708c4be7c.png)

1ë²ˆ ì¡°ê±´ì€ ë‘ê°€ì§€ ìœ„ë°˜ ì‚¬í•­ì„ ì¡ì„ ìˆ˜ ìˆë‹¤. 
- prime attributeê°€ nonprime ì†ì„±ì„ functionally ê²°ì •í•˜ëŠ” ê²½ìš°: partial dependencyë¥¼ ì¡ì•„ 2NF ìœ„ë°˜ì„ ì¡ì„ ìˆ˜ ìˆë‹¤. 
- nonprime attributeê°€ nonprime ì†ì„±ì„ functionally ê²°ì •í•˜ëŠ” ê²½ìš°: transitive dependencyë§‰ì•„ 3NF ìœ„ë°˜ì„ ì¡ì„ ìˆ˜ ìˆë‹¤.

3NFë¥¼ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œë„ ì •ì˜ë‚´ë¦´ ìˆ˜ ìˆë‹¤. 

ëª¨ë“  nonprime attributeê°€ **a)**ëª¨ë“  í‚¤ì— ëŒ€í•´ FFDì´ê³  **b)**ëª¨ë“  í‚¤ì— ëŒ€í•´ 'non-transitively dependent'í•˜ë‹¤ë©´ relationì€ 3NFì´ë‹¤.

ì—¬ê¸°ì„œ b)ëŠ” 3NFì—ì„œëŠ” í—ˆìš©ë˜ì§€ë§Œ 'Boyce-Codd Normal Form'ì—ì„œëŠ” í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, candidate keyì— ì˜í•´ ë°œìƒí•˜ëŠ” transitive propertyë„ ì—†ì•¤ë‹¤.

## Boyce-Codd Normal Form
Relation $R$ì˜ **ëª¨ë“  FD $X\rarr A$ì—ì„œ, $X$ê°€ ìŠˆí¼í‚¤**ì´ë©´ Rì€ BCNFë¥¼ ë§Œì¡±í•œë‹¤. 

BCNFê°€ 3NFë³´ë‹¤ ê°•ë ¥í•˜ê¸° ë•Œë¬¸ì— 3NFì´ë©´ì„œ BCNFì¸ relationì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

BCNFëŠ” decompositionìœ¼ë¡œ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤. ë¶„í•´í–ˆì„ ë•Œ ì–´ë–¤ FDë¥¼ ìƒì„ ìˆ˜ë„ ìˆëŠ”ë°, ì´ê²ƒì€ ê°ë‚´í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ë‹¤.

ì–´ë–»ê²Œ ë¶„í•´í•´ì•¼í• ê¹Œ? decompositionì˜ ë‘ê°€ì§€ íŠ¹ì„±ì¤‘ í•˜ë‚˜ë¥¼ ë³´ì¡´í•˜ëŠ” ë¶„í•´ë¥¼ ì„ íƒí•˜ë©´ ëœë‹¤.
- **non-additive(lossless) join property**
- functional dependency preservation property

ì •ê·œí™” ê³¼ì •ì—ì„œ ë¶„í•´í•  ê²ƒì„ ê³ ë¥¼ ë•Œ 'Nonadditive Join Test for Binary Decomposition(NJB)'ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### NJB(Nonadditive Join Test for Binary Decomposition)
$R$ì˜ decomposition $D=\{R1, R2\}$ì˜ FD ì§‘í•© $F$ì— ëŒ€í•´ì„œ, 
- FD $((R1\cap R2 ))\rarr(R1-R2))$ì´ $F^+$ì— ìˆê±°ë‚˜ 
- $((R1\cap R2 ))\rarr(R2-R1))$ì´ $F^+$ì— ìˆë‹¤ë©´, 

'non-additive join property'ë¥¼ ë§Œì¡±í•œë‹¤. ($F^+$ëŠ” $F$ê°€ í•¨ì¶•í•˜ëŠ” ëª¨ë“  FDë¥¼ í¬í•¨)

ì•„ë˜ ì˜ˆì‹œë¥¼ í†µí•´ í•œ ë²ˆ í•´ë³´ì.
![IMG_F46EDE6DFD45-1](https://user-images.githubusercontent.com/33976823/143765087-0e7c8372-60b6-40d8-93ae-bdad0099c588.jpg)

- **Case 1**: R1(Student, Instructor) and R2(Student, Course)  
    Student â†’ Instructor ì™€ Student â†’ Course, ë‘˜ ë‹¤ ë§Œì¡±í•˜ì§€ ëª»í•œë‹¤.

- **Case 2**: R1(Course, Instructor) and R2(Course, Student)  
    Course â†’ Instructor ì™€ Course â†’ Student, ë‘˜ ë‹¤ ë§Œì¡±í•˜ì§€ ëª»í•œë‹¤.

- **Case 3**: R1(Instructor, Course) and R2(Instructor, Student)  
    Instructor â†’ Course ê°€ FD2ì™€ ê°™ê¸° ë•Œë¬¸ì— $F^+$ì— ì†í•œë‹¤. NJBë¥¼ ë§Œì¡±í•˜ë¯€ë¡œ ë¶„í•´í•  ë•Œ case 3ì„ ì„ íƒí•˜ë©´ ëœë‹¤.

### BCNF Decomposition ì•Œê³ ë¦¬ì¦˜
$R$ì´ BCNFì— ì†í•˜ì§€ ì•Šì€ relationì´ê³  $X\sube R$ì¼ ë•Œ, $X\rarr A$ê°€ BCNF ìœ„ë°˜ì„ ë°œìƒì‹œí‚¤ëŠ” FDë¼ê³  í•˜ì.

ì´ë•Œ $R$ì€ ë‘ ê°€ì§€ relationìœ¼ë¡œ ë¶„í•´ë  ìˆ˜ ìˆë‹¤.
- $R-A$
- $XA(=X\cup A)$

ë‘ ê°€ì§€ ê²½ìš° ì¤‘ BCNFì— ì†í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ìˆë‹¤ë©´, ê·¸ ê²½ìš°ì— ëŒ€í•´ ì•Œê³ ë¦¬ì¦˜ì„ ë°˜ë³µí•œë‹¤. ë‘˜ ë‹¤ BCNFì— ì†í•˜ê²Œ ë˜ë©´ ì•Œê³ ë¦¬ì¦˜ì„ ì¢…ë£Œí•œë‹¤.

## ì •ë¦¬

|Normal Form|Description|
|---|---|
|1NF|ë„ë©”ì¸ì˜ ì›ìì„±|
|2NF|ë¶€ë¶„ í•¨ìˆ˜ì  ì¢…ì† ì œê±°|
|3NF|ì´í–‰ í•¨ìˆ˜ì  ì¢…ì† ì œê±°|
|BCNF|í›„ë³´í‚¤ê°€ ì•„ë‹Œ ê²°ì •ì ì œê±°|